<tool id="mothur_parse_list" name="Parse.list" version="1.19.0" force_history_refresh="True">
 <description>Generate a List file for each group</description>
 <command interpreter="python">
  mothur_wrapper.py 
  --cmd='parse.list'
  --result='^mothur.\S+\.logfile$:'$logfile
  --outputdir='$logfile.extra_files_path'
  --datasetid='$logfile.id' --new_file_path='$__new_file_path__' 
  --new_datasets='^\S+?\.(\S+\.list)$:list'
  --list=$otu
  --group=$group
  #if $label.__str__ != "None" and len($label.__str__) > 0:
   --label='$label'
  #end if
	#if $count.__str__ != "None" and len($count.__str__) > 0:
		--count=$count
	#end if
 </command>
 <inputs>
  <param name="otu" type="data" format="list" label="list - OTU List"/>
  <param name="group" type="data" format="groups" label="group - Sequences Name reference"/>
  <param name="label" type="select" optional="true" label="label - To filter: Select OTU Labels to include" multiple="true">
   <help>All labels are included if none are selected</help>
   <options>
    <filter type="data_meta" ref="otu" key="labels" />
   </options>
  </param>
	<param name="count" type="data" format="count_table" optional="true" label="count - a count_table" help="generated by count.seqs"/>
 </inputs>
 <outputs>
  <data format="html" name="logfile" label="${tool.name} on ${on_string}: logfile" />
 </outputs>
 <requirements>
<requirement type = "package" version ="1.33">mothur</requirement>
 </requirements>
 <tests>
 </tests>
 <help>
**Mothur Overview**

Mothur_, initiated by Dr. Patrick Schloss and his software development team
in the Department of Microbiology and Immunology at The University of Michigan,
provides bioinformatics for the microbial ecology community.

.. _Mothur: http://www.mothur.org/wiki/Main_Page

**Command Documenation**

The parse.list_ command reads a list_ file and group_ file and generates a list_ file for each group_ in the groupfile.

.. _list: http://www.mothur.org/wiki/List_file
.. _group: http://www.mothur.org/wiki/Group_file
.. _parse.list: http://www.mothur.org/wiki/Parse.list

v.1.19.0: Updated to mothur 1.33, added count parameter

 </help>
</tool>
