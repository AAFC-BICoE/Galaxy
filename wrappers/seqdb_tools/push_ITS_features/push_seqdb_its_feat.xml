<tool id="seqdb_its_feat_push" name="Write Features to Sequence Database">
  <description>through web services </description>
  <requirements>
      <requirement type="package" version="1.0">seqdb-py</requirement>
  </requirements>
  
  <command>
      push_seqdb_its_feat
        -p
        -k $api_key
        -f $ifile
        
        #if ($ws_url):
            #set $ws_url = "-u " + str($ws_url)
        #end if
        
        $ws_url
  </command>
  <inputs>
      <param name="api_key" type="text" label="Sequence Database API Key" />
      <param name="ifile" type="data" label="ITSx positions file" />
      <param name="ws_url" type="text" label="SeqDB base web services url (optional)" optional="true" />
  </inputs>
  
  <outputs>
      <data
      format="tabular"
      from_work_dir="seqdb_feature_ids.txt"
      label="ITS feature IDs, saved to SeqDB" />
  </outputs>
  <tests>
    <test>
    </test>
  </tests>

  <help>
      
      **What it does**
      
      Writes features, found by ITSx tool, to Sequence DB. The tool goes together with the SeqDB ITS sequence extractor.
      
      Expected input is the .positions.txt files, returned by ITSx tool. Sequence identifiers in the .positions.txt file are expected to be of the format "seqdb|12345".
      
      Output is a file with the feature ids that were written to SeqDB.
      
      
      **What is an API Key?**
      
      API Key is a string of characters that is generated by Sequence Database to distinguish who requests information from its webservices. This key is unique for each Sequence Database user and identifies what kind of information to serve this particular user.
      
      
      **How do I get an API Key?**
      
      Log in to Sequence Database, select Account -> Profile. If the field "API Key" is empty, then click on "Generate New API Key" button. Copy the API Key string (long string with random characters) and paste it in this tool.
      
      **Do I need to regenerate API Key each time I run this tool?**
      
      No, and you don't need to go to Sequence Database each time either. Just save the key, once it is generated, and re-use it for the next run(s). 
      Note: you will only need to get the api key again if it was re-generated in Sequence Database.
      
      
  </help>

</tool>
