<tool id="seqdb_its_seq" name="Load ITS Sequences from Sequence Database">
  <description> through web services </description>
  <requirements>
      <requirement type="package" version="1.0">pull_seqdb_its_seqs</requirement>
  </requirements>
  <command interpreter="python">
      /\$SEQDBPULLDEPDIR/pull_seqdb_its_seqs.py
        -p
        -k $api_key
        
        #if ($ws_url):
            #set $ws_url = "-u " + str($ws_url)
        #end if
        
        $ws_url
      
  </command>


  <inputs>
      <param name="api_key" type="text" label="Sequence Database API Key" />
      <param name="ws_url" type="text" label="SeqDB base web services url (optional)" optional="true" />
  </inputs>
  <outputs>
    <data
        format="fasta"
        from_work_dir="seqdb_ITS_seqs.fasta"
        label="ITS Sequences from Sequence Database" />
  </outputs>

  <tests>
    <test>
      <output name="out_file" file="seqdb_ITS_seqs.fasta" />
    </test>
  </tests>

  <help>
      
      **What it does**
      
      The tool requests ITS sequences from Sequence DB and writes them to a fasta file.
      
      
      **What is an API Key?**
      
      API Key is a string of characters that is generated by Sequence Database to distinguish who requests information from its webservices. This key is unique for each Sequence Database user and identifies what kind of information to serve this particular user.
      
      
      **How do I get an API Key?**
      
      Log in to Sequence Database, select Account -> Profile. If the field "API Key" is empty, then click on "Generate New API Key" button. Copy the API Key string (long string with random characters) and paste it in this tool.
      
      **Do I need to regenerate API Key each time I run this tool?**
      
      No, and you don't need to go to Sequence Database each time either. Just save the key, once it is generated, and re-use it for the next run(s). 
      Note: you will only need to get the api key again if it was re-generated in Sequence Database.
      
      
  </help>

</tool>
