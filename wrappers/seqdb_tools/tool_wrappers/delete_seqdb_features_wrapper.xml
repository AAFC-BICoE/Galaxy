<tool id="seqdb_delete_feat" name="Delete Features from Sequence Database" version="1.3">
  <description>through web services </description>
  <requirements>
      <requirement type="package" version="1.3">seqdb-py</requirement>
  </requirements>
  
  <command>
      delete_seqdb_features -c $config_file $delete_type -f $ifile
  </command>
  
  <inputs>
      <param name="config_file" type="data" label="Sequence Database Configuration File" />
     
      <param name="delete_type" type="select" label="Select what you would like to delete from SeqDB *">
      	<option value="features" help="Will delete any features from SeqDB. Can be used to delete features found through ITSx tool.">Features</option>
		<option value="taxonomy" help="Will delete any determinations (taxonomy) from SeqDB. Can be used to delete determinations found through Find LCA tool." >Determinations (i.e. Taxonomy)</option>
      </param>

      <param name="ifile" type="data" label="File with list of IDs from Sequence Database" help="File that contains ONLY IDs of items that will be deleted from SeqDB. File format: IDs can be on a separate line; one line, separated by comma or tab." />
  </inputs>
  
  <outputs>
      <data name="delete_failed_feature_ids"
        format="txt"
        from_work_dir="delete_failed_feature_ids.txt"
        label="Feature ids that failed to be deleted" />
      <data name="SeqDB_delete_log"
        format="txt"
        from_work_dir="seqdb_delete.log"
        label="Log file of deleting ITSx features from SeqDB" />
  </outputs>

  <!-- Provide explanations for various exit status codes. Avoid situations where tool exists with status 0 but other errors (in Galaxy) set its status to Error -->
  <stdio>
  	   <!-- Since exit code 0 is not specified, the tool will execute successfully, even if Galaxy writes something to stderr. -->
  	  <exit_code range="1:" level="fatal" description="Error" />
      <exit_code range="2"   level="fatal"   description="Out of Memory" />
      <exit_code range="3:5" level="warning" description="Low disk space" />
      <exit_code range="6:63"  level="fatal"   description="Tool execution error (exit codes 6-63)" />
      <exit_code range="64"  level="fatal"   description="Command line usage error" />
      <exit_code range="65:72"  level="fatal"   description="Tool execution error (exit codes 65-72)" />
      <exit_code range="73"  level="fatal"   description="Can't create (user) output file" />
      <exit_code range="74:"  level="fatal"   description="Tool execution error (exit codes 74 and up)" />
  </stdio>


  <tests>
    <test>
    </test>
  </tests>

  <help>
      
      **What it does**
      
      Deletes items from SeqDB.
      
      Expected input is the type of items to be deleted and file with SeqDB ids. Ids can be tab delimited, comma separated, one on each line or a combination of all the above.

      
      **What is a "Sequence Database Configuration File"?**
      
      Sequence Database Configuration File is a file that contains SeqDB API connection parameters. To generate this file, use "SeqDB Configuration" tool.
      
      
  </help>

</tool>
