<tool id="seqdb_config" name="SeqDB Configuration" version="1.1">
  <description> creates a personalized configuration file, used to access SeqDB Web Services. </description>
  <requirements>
      <requirement type="package" version="dev">package_seqdb_py</requirement>
  </requirements>
  
  <command>
      seqdb_config_maker -k $api_key
  </command>


  <inputs>
      <param name="api_key" type="text" label="Sequence Database API Key" />
  </inputs>
  <outputs>
    <data name="seqdb_configuration"
        format="txt"
        from_work_dir="user_config.yaml"
        label="Sequence Database Configuration" />
  </outputs>

  <tests>
    <test>
      <output name="out_file" file="test_file.yaml" />
    </test>
  </tests>

  <help>
      
      **What it does**
      
      The tool creates a Sequence Database API configuration file, which can be used in a number of SeqDB API tools (e.g. tools in ITSs workflow).
      
      
      **What is an API Key?**
      
      API Key is a string of characters that is generated by Sequence Database to distinguish who requests information from its webservices. This key is unique for each Sequence Database user and identifies what kind of information to serve this particular user.
      
      
      **How do I get an API Key?**
      
      Log in to Sequence Database, select Account -> Profile. If the field "API Key" is empty, then click on "Generate New API Key" button. Copy the API Key string (long string with random characters) and paste it in this tool.
      
      **Do I need to regenerate API Key each time I run this tool?**
      
      No, and you don't need to go to Sequence Database each time either. Just save the key, once it is generated, and re-use it for the next run(s). 
      Note: you will only need to get the api key again if it was re-generated in Sequence Database.
      
  </help>

</tool>
