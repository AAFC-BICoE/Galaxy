<?xml version="1.0" ?>
<tool id="submit_to_mgrast" name="submit to mgrast" version="1.7.0">
	<description>This script submits a FASTA file to MG-RAST</description>
	<requirements>
		<requirement type="package">qiime</requirement>
	</requirements>
	<command>submit_to_mgrast.py -i $input_fasta_fp -w $web_key_auth -p $project_id -o submit_to_mgrast_output;
compress_path.py -i submit_to_mgrast_output -o $output_dir
</command>
	<inputs>
		<param label="-i/--input_fasta_fp: path to the input fasta file" name="input_fasta_fp" optional="False" type="data"/>
		<param label="-w/--web_key_auth: the web services authorization key from MG-RAST" name="web_key_auth" optional="False" type="data"/>
		<param label="-p/--project_id: the title to be used for the project" name="project_id" optional="False" type="text"/>
	</inputs>
	<outputs>
		<data format="tgz" name="output_dir"/>
	</outputs>
	<help>This script takes a split-library FASTA file and generates individual FASTA files for each sample, then submits each sample FASTA file to MG-RAST, given the user provides an MG-RAST web-services authorization key and Project ID.  To get a web-services authorization key, the user should have an account on MG-RAST.  Once logged in, the user can go to their Account Management page and under Preferences they should click 'here', where they will see a Web Services section where they can click on the 'generate new key' if they have not already been provided one.
The resulting directory will contain all of the sample-separated FASTA files, along with a log html file, which informs the user of the jobs started on MG-RAST</help>
</tool>
