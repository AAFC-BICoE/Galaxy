<?xml version="1.0" ?>
<tool id="quality_scores_plot" name="quality scores plot" version="1.7.0">
	<description>Generates histograms of sequence quality scores and number of nucleotides recorded at a particular index</description>
	<requirements>
		<requirement type="package">qiime</requirement>
	</requirements>
	<command>quality_scores_plot.py -q $qual_fp -o quality_scores_plot_output
#if $score_min:
 -s $score_min
#end if

#if $verbose:
 -v
#end if
;
compress_path.py -i quality_scores_plot_output -o $output_dir
</command>
	<inputs>
		<param label="-q/--qual_fp: Quality score file used to generate histogram data." name="qual_fp" optional="False" type="data"/>
		<param default="25" label="-s/--score_min: Minimum quality score to be considered acceptable.  Used to draw dotted line on histogram for easy visualization of poor quality scores. [default: 25]" name="score_min" optional="True" type="integer"/>
		<param label="-v/--verbose: Turn on this flag to disable verbose output.  [default: False]" name="verbose" selected="False" type="boolean"/>
	</inputs>
	<outputs>
		<data format="tgz" name="output_dir"/>
	</outputs>
	<help>Two plots are generated by this module.  
The first shows line plots indicating the average and standard deviations
for the quality scores of the input quality score file, 
starting with the first nucleotide and ending with the the final 
nucleotide of the largest sequence.

A second histogram shows a line plot with the nucleotide count for each
position, so that one may easily visualize how sequence length drops off.

A dotted line shows the cut-off point for a score to be acceptable (default
is 25).

A text file logging the average, standard deviation, and base count 
for each base position is also generated.  These three sections are comma 
separated.

The truncate_fasta_qual_files.py module can be used to create truncated
versions of the input fasta and quality score files.  By using this module
to assess the beginning of poor quality base calls, one can determine 
the base position to begin truncating sequences at.
A .pdf file with the two plots will be created in the output directory</help>
</tool>
